{% extends "fw_base.yaml" %}
{% block body %}
name: "{{ machine|default("NEMO",true) }}, {{ title }}, EAM substrate only, RDF extraction"
spec:
  _category: {{ worker|default("nemo_noqueue",true) }}
  _files_in:
    data_file: default.lammps
    traj_file: default.nc
  _files_out:
    box_measures:  box.txt
    rdf:           rdf.txt
    fcc_rdf:       fcc_rdf.txt

  _tasks:
  - _fw_name: CmdTask
    cmd: extract_property.py
    opt:
    - --verbose
    - --property rdf box
    - --trajectory default.nc --
    - default.lammps
    - rdf.txt
    - box.txt
    stderr_file: extract_std_property.err
    stdout_file: extract_std_property.out
    use_shell: true
    fizzle_bad_rc: true

  - _fw_name: CmdTask
    cmd: extract_property.py
    opt:
    - --verbose
    - --modifier fcc
    - --property rdf
    - --trajectory default.nc --
    - default.lammps
    - fcc_rdf.txt
    stderr_file: extract_fcc_property.err
    stdout_file: extract_fcc_property.out
    use_shell: true
    fizzle_bad_rc: true

  metadata:
    state: rdf extraction
    {{ render_metadata()|indent(4) }}
{% endblock %}
