name: "NEMO TRIAL: LAMMPS minimization and equilibration of EAM substrate"
metadata:
  system_name: AU_111_51x30x8
  state: trial minimization with eam potential
  pbc:                                          111 # periodic in all directions
  pressure:                                     0 # atm
  pressure_unit:                                atm
  sb_name:                                      AU_111_51x30x8
  sb_area:                                      2.20374e-16
  sb_area_unit:                                 m^2
  sb_crystal_plane:                             111
  sb_measures:
  - 1.47e-8
  - 1.50e-8
  - 5.60e-9
  sb_measures_unit:                             m
  sb_multiples:
  - 51
  - 30
  - 8
  sb_normal:        2 # z
  sb_thickness:                                 5.6e-9
  sb_thickness_unit:                            m
  sb_unit_cell:
  - 3e-10
  - 5e-10
  - 7e-10
  sb_unit_cell_unit:                            m
  sb_volume:                                    3.11331e-25
  sb_volume_unit:                               m^3
  substrate:                                    AU
  temperature:                                  298 # K
  temperature_unit:                             K

std: # standard settings to be applied to all fireworks, if not ...
  machine:                NEMO
  pressure:               0
  remote_user:            testuser
  remote_dir:             /mnt/dat/work/testuser/substrate/eam/series8
  ssh_key:                /home/fr/fr_fr/fr_jh1130/.ssh/testuser-bwCloud
  substrate_identifier:   substrate/AU/111/52x30x8.lammps
  surfactant:             SDS
  temperature:            298
  worker:                 nemo_noqueue
  nodes:                  1
  ppn:                    20
  walltime:               00:15:00
  queue:                  express

# if more than one set of contexts given, dependency tree will fork
transient: # ...overridden by these transient settings, which do not affect children
  fw_020_minimization_fixed_box.yaml:
  -  worker:               nemo_queue_offline
  fw_030_minimization_relaxed_box.yaml:
  -  worker:               nemo_queue_offline
  fw_040_minimization_slab_fixed_box.yaml:
  -  worker:               nemo_queue_offline
  fw_050_minimization_slab_relaxed_box.yaml:
  -  worker:               nemo_queue_offline
  fw_060_equilibration_nvt_bulk.yaml:
  -  worker:               nemo_queue_offline
  fw_070_equilibration_npt_bulk.yaml:
  -  worker:               nemo_queue_offline
     queue:                ''
     walltime:             1:00:00
  fw_080_equilibration_nvt_slab.yaml:
  -  worker:               nemo_queue_offline
  fw_090_equilibration_npt_slab.yaml:
  -  worker:               nemo_queue_offline
     queue:                ''
     walltime:             1:00:00
  
persistent: # ... while settings here override the following settings for all children
  fw_070_equilibration_npt_bulk.yaml:
  - pressure: 0
    identifier: 010_equilibration_npt_bulk_0_atm
  - pressure: 1
    identifier: 020_equilibration_npt_bulk_1_atm
  fw_090_equilibration_npt_slab.yaml:
  - pressure: 0
    identifier: 030_equilibration_npt_slab_0_atm
  - pressure: 1
    identifier: 040_equilibration_npt_slab_1_atm

dependencies:
  # single dependency entries result in one instance only
  fw_010_file_retrieval.yaml:
  - fw_020_minimization_fixed_box.yaml
  - fw_030_minimization_relaxed_box.yaml
  - fw_040_minimization_slab_fixed_box.yaml
  - fw_050_minimization_slab_relaxed_box.yaml
  - fw_060_equilibration_nvt_bulk.yaml
  - fw_070_equilibration_npt_bulk.yaml
  - fw_080_equilibration_nvt_slab.yaml
  - fw_090_equilibration_npt_slab.yaml

  fw_020_minimization_fixed_box.yaml:
  - fw_030_minimization_relaxed_box.yaml
  
  # unique ids have the subsequent pathways treated independently
  fw_030_minimization_relaxed_box.yaml:
  - fw_040_minimization_slab_fixed_box.yaml
  - fw_060_equilibration_nvt_bulk.yaml:       20


  fw_040_minimization_slab_fixed_box.yaml:
  - fw_050_minimization_slab_relaxed_box.yaml

  fw_050_minimization_slab_relaxed_box.yaml:
  - fw_080_equilibration_nvt_slab.yaml

  fw_060_equilibration_nvt_bulk.yaml:
  - fw_070_equilibration_npt_bulk.yaml

  fw_080_equilibration_nvt_slab.yaml:
  - fw_090_equilibration_npt_slab.yaml

  fw_070_equilibration_npt_bulk.yaml:
  - fw_100_extract_property.yaml

  fw_090_equilibration_npt_slab.yaml:
  - fw_100_extract_property.yaml
  
  fw_100_extract_property.yaml:
  - fw_150_remote_file_transfer.yaml