name: "NEMO TRIAL: LAMMPS Minimzation of EAM substrate"
fws:
- fw_id: -10
  name: "NEMO, EAM substrate only, file retrieval"
  spec:
    _category: "nemo_noqueue"
    _files_out:
      initial_configuration_file: stripped.lammps
      input_header:               lmp_header.input
      input_minimization:         lmp_minimization.input
      coeff_file:                 coeff_hybrid.input
    _tasks:

    - _fw_name: GetFilesTask
      identifiers:
      - lmp_header.input
      - lmp_minimization.input
      - lmp_delete_nonSubst.input
      - lmp_split_datafile.input

    - _fw_name: GetFilesTask
      identifiers:
      - substrate/AU/111/52x30x8.lammps
      new_file_names:
      - datafile.lammps

    - _fw_name: CmdTask
      fizzle_bad_rc: true
      cmd: lmp
      opt:
      - -in lmp_split_datafile.input
      - -v surfactant_name SDS
      - -v has_indenter 0
      - -v pbc2d 0
      - -v freeze_substrate 0
      - -v use_ewald 0
      - -v use_eam 0
      - -v shrink_wrap_once 1
      - -v dataFile datafile.lammps
      - -v write_coeff 1
      - -v coeffOutfile coeff.input
      - -v topoOutfile stripped.lammps
      stderr_file: strip.err
      stdout_file: strip.out
      use_shell: true

    - _fw_name: CmdTask
      fizzle_bad_rc: true
      cmd: to_hybrid.py
      opt:
      - --pair-style lj/charmmfsw/coul/charmmfsh
      - coeff.input
      - coeff_hybrid.input
      stderr_file: convert.err
      stdout_file: convert.out
      store_stdout: true
      store_stderr: true
      use_shell: true

links: {}

metadata:
  system_name: AU_111_51x30x8
  state: trial minimization with eam potential
  pbc:                                          111 # periodic in all directions
  pressure:                                     1 # atm
  pressure_unit:                                atm
  sb_name:                                      AU_111_51x30x8
  sb_area:                                      2.20374e-16
  sb_area_unit:                                 m^2
  sb_crystal_plane:                             111
  sb_measures:
  - 1.47e-8
  - 1.50e-8
  - 5.60e-9
  sb_measures_unit:                             m
  sb_multiples:
  - 51
  - 30
  - 8
  sb_normal:        2 # z
  sb_thickness:                                 5.6e-9
  sb_thickness_unit:                            m
  sb_unit_cell:
  - 3e-10
  - 5e-10
  - 7e-10
  sb_unit_cell_unit:                            m
  sb_volume:                                    3.11331e-25
  sb_volume_unit:                               m^3
  substrate:                                    AU
  temperature:                                  298 # K
  temperature_unit:                             K
