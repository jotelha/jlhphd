name: "{{ machine|default("NEMO",true) }}, EAM substrate only, file retrieval and preprocessing"
spec:
  _category: {{ worker|default("nemo_noqueue",true) }}
  _files_out:
    initial_configuration_file: datafile.lammps
    input_header:               lmp_header.input
    input_minimization:         lmp_minimization.input
    input_equilibration_nvt:    lmp_equilibration_nvt.input
    input_equilibration_npt:    lmp_equilibration_npt.input
    coeff_file:                 coeff_hybrid.input
  _tasks:

  - _fw_name: GetFilesTask
    identifiers:
    - lmp_header.input
    - lmp_minimization.input
    - lmp_equilibration_nvt.input
    - lmp_equilibration_npt.input

  - _fw_name: GetFilesTask
    identifiers:
    - {{ substrate_identifier|default("substrate/AU/111/52x30x8.lammps") }}
    new_file_names:
    - datafile.lammps

  - _fw_name: GetFilesTask
    identifiers:
    - {{ coeff_identifier|default("SDS/in/H2O/on/AU/coeff_hybrid.lammps") }}
    new_file_names:
    - coeff_hybrid.input