{% set identifier = "benchmark/lmp/machine_%s/nodes_%s/ppn_%s/ewald_accuracy_%s/coulomb_cutoff_%s/skin_distance_%s/neigh_delay_%s/neigh_every_%s/neigh_check_%s"|format(machine, nodes, ppn, ewald_accuracy, coulomb_cutoff, skin_distance, neigh_delay, neigh_every, neigh_check) %}
name: {{machine}}, transfer '{{identifier}}/log.txt' to file pad
spec:
  _category: "{{ worker|default("nemo_noqueue",true) }}"
  _files_in:
    log_file: log.lammps
  _tasks:
  # first delete if file existent
  - _fw_name: DeleteFilesTask
    identifiers: 
    - {{ identifier }}/log.txt
    # - AFM/SDS/646/AU/111/52x30x2/hemicylinders/50Ang/stepped/75Ang/37500000/log.lammps
  # then add again:
  - _fw_name: AddFilesTask
    identifiers: 
    - {{ identifier }}/log.txt
    paths:
    - log.lammps

    metadata:
      ci_preassembly:     {{ ci_preassembly }}
      counterion:         {{ counterion }}
      indenter:           {{ indenter }}
      indenter_dist:      {{ indenter_dist }}
      indenter_dist_unit: {{ indenter_dist_unit }}
      indenter_pdb:       {{ indenter_pdb }}
      indenter_vel:       {{ indenter_vel }}
      indenter_vel_unit:  {{ indenter_vel_unit }}
      pressure:           {{ pressure }}
      pressure_unit:      {{ pressure_unit }}
      sb_crystal_plane:   {{ sb_crystal_plane }}
      sb_multiples:       {{ sb_multiples }}
      sb_name:            {{ sb_name }}
      sf_nmolecules:      {{ sf_nmolecules }}
      sf_preassembly:     {{ sf_preassembly }}
      solvent:            {{ solvent }}
      substrate:          {{ substrate }}
      surfactant:         {{ surfactant }}
      sv_density:         {{ sv_density }}
      sv_density_unit:    {{ sv_density_unit }}
      sv_preassembly:     {{ sv_preassembly }}
      temperature:        {{ temperature }}
      temperature_unit:   {{ temperature_unit }}
      
      type:               benchmark results
      machine:            {{ machine }}
      nodes:              {{ nodes }}
      ppn:                {{ ppn }}
      ewald_accuracy:     {{ ewald_accuracy }}
      coulomb_cutoff:     {{ coulomb_cutoff }}
      skin_distance:      {{ skin_distance }} 
      neigh_delay:        {{ neigh_delay }}
      neigh_every:        {{ neigh_every }}
      neigh_check:        {{ neigh_check }}