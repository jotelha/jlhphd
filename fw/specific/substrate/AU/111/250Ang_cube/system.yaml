name: "NEMO: LAMMPS minimization and equilibration of EAM substrate AU 250Ang cube"
metadata: {}

std: # standard settings to be applied to all fireworks, if not ...
  machine:                NEMO

  remote_user:            testuser
  remote_dir:             /mnt/dat/work/testuser/substrate/AU_111_250Ang_cube/series1
  ssh_key:                /home/fr/fr_fr/fr_jh1130/.ssh/testuser-bwCloud
  coeff_identifier:       SDS/in/H2O/on/AU/coeff/hybrid/lj/charmmfsw/coul/charmmfsh.input

  worker:                 nemo_noqueue
  nodes:                  1
  ppn:                    20
  walltime:               00:15:00
  queue:                  express

  # technical LAMMPS options
  ewald_accuracy:                               1.0e-4
  coulomb_cutoff:                               8.0
  coulomb_cutoff_unit:                          Ang
  skin_distance:                                3.0
  skin_distance_unit:                           Ang
  neigh_delay:                                  2
  neigh_every:                                  1
  neigh_check:                                  1
  #netcdf_frequency:                             5000
  #thermo_frequency:                             500
  #restart_frequency:                            5000
  #thermo_average_frequency:                     500
  #minimization_ftol:                            1.0e-5
  #minimization_ftol_unit:                       kcal
  #minimization_maxiter:                         10000
  #minimization_maxeval:                         100000
  #nvt_equilibration_steps:                      10000
  #npt_equilibration_steps:                      10000
  #production_steps:                             1500000

  system_name:                                  AU_111_250Ang_cube
  state:                                        initial config
  pbc:                                          111 # periodic in all directions
  pressure:                                     1 # atm
  pressure_unit:                                atm
  sb_name:                                      AU_111_250Ang_cube
  sb_area:                                      6.25e-16
  sb_area_unit:                                 m^2
  sb_base_length:                               250
  sb_base_length_unit:                          Ang
  sb_crystal_plane:                             111
  sb_lattice_constant:                          4.075
  sb_lattice_constant_unit:                     Ang
  sb_measures:
  - 250.687e-10
  - 249.542e-10
  - 250.563e-10
  sb_measures_unit:                             m
  sb_natoms:                                    930900
  sb_normal:                                    2 # z
  sb_shape:                                     cube
  sb_thickness:                                 250.0e-10
  sb_thickness_unit:                            m
  sb_volume:                                    1.5625e-23
  sb_volume_unit:                               m^3
  substrate:                                    AU
  temperature:                                  100 # K
  temperature_unit:                             K

# if more than one set of contexts given, dependency tree will fork
transient: # ...overridden by these transient settings, which do not affect children
  fw_020_minimization_fixed_box.yaml:
  -  worker:               nemo_queue_offline
  fw_030_minimization_relaxed_box.yaml:
  -  worker:               nemo_queue_offline
  fw_060_equilibration_nvt_bulk.yaml:
  -  worker:               nemo_queue_offline
  fw_070_equilibration_npt_bulk.yaml:
  -  worker:               nemo_queue_offline
     queue:                ''
     walltime:             1:00:00
  
persistent: {}

dependencies:
  # single dependency entries result in one instance only
  fw_000_file_retrieval.yaml:
  - fw_010_datafile_retrieval.yaml
  - fw_020_minimization_fixed_box.yaml
  - fw_030_minimization_relaxed_box.yaml
  - fw_060_equilibration_nvt_bulk.yaml
  - fw_070_equilibration_npt_bulk.yaml

  fw_010_datafile_retrieval.yaml:
  - fw_020_minimization_fixed_box.yaml  

  fw_020_minimization_fixed_box.yaml:
  - fw_030_minimization_relaxed_box.yaml
  
  # unique ids have the subsequent pathways treated independently
  fw_030_minimization_relaxed_box.yaml:
  - fw_060_equilibration_nvt_bulk.yaml

  fw_060_equilibration_nvt_bulk.yaml:
  - fw_070_equilibration_npt_bulk.yaml

  fw_070_equilibration_npt_bulk.yaml:
  - fw_100_extract_property.yaml
  - fw_200_filepad_add.yaml
  
  fw_100_extract_property.yaml:
  - fw_150_remote_file_transfer.yaml