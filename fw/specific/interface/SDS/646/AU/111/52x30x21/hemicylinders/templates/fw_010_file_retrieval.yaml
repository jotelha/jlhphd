{% include 'global.yaml' %}
name: "{{ machine|default("NEMO",true) }}, {{ title }}, file retrieval and preprocessing"
spec:
  _category: {{ worker|default("nemo_noqueue",true) }}
  _files_out:
    initial_configuration_file: datafile.lammps
    input_header:               lmp_header.input
    input_minimization:         lmp_minimization.input
    input_equilibration_nvt:    lmp_equilibration_nvt.input
    input_equilibration_npt:    lmp_equilibration_npt.input
    coeff_file:                 coeff_hybrid.input

  _tasks:

  - _fw_name: GetFilesTask
    identifiers:
    - lmp_header.input
    - lmp_minimization.input
    - lmp_equilibration_nvt.input
    - lmp_equilibration_npt.input

  - _fw_name: GetFilesTask
    identifiers:
    - {{ substrate_identifier }}
    new_file_names:
    - datafile.lammps

  - _fw_name: GetFilesTask
    identifiers:
    - {{ coeff_identifier }}
    new_file_names:
    - coeff_hybrid.input
